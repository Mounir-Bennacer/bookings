<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ticket Custom Fields | Bookings for Craft CMS</title>
    <meta name="description" content="An advanced booking plugin for Craft CMS and Craft Commerce.">
    
    
    <link rel="preload" href="/bookings/assets/css/9.styles.346c2509.css" as="style"><link rel="preload" href="/bookings/assets/js/app.5f389b5d.js" as="script"><link rel="preload" href="/bookings/assets/js/1.d2c7085b.js" as="script"><link rel="prefetch" href="/bookings/assets/js/0.7851a61e.js"><link rel="prefetch" href="/bookings/assets/js/2.27c25a67.js"><link rel="prefetch" href="/bookings/assets/js/3.c965252a.js"><link rel="prefetch" href="/bookings/assets/js/4.3724008b.js"><link rel="prefetch" href="/bookings/assets/js/5.879ddfbf.js"><link rel="prefetch" href="/bookings/assets/js/6.ac384c6a.js"><link rel="prefetch" href="/bookings/assets/js/7.72f865f4.js"><link rel="prefetch" href="/bookings/assets/js/8.9b46f083.js">
    <link rel="stylesheet" href="/bookings/assets/css/9.styles.346c2509.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/bookings/" class="home-link router-link-active"><!----><span class="site-name">Bookings for Craft CMS</span></a><div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/bookings/standalone/" class="nav-link">Stand-Alone</a></div><div class="nav-item"><a href="/bookings/commerce/" class="nav-link router-link-active">Commerce</a></div><div class="nav-item"><a href="https://github.com/ethercreative/bookings/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/ethercreative/bookings" target="_blank" rel="noopener noreferrer" class="repo-link">
    Source
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bookings/standalone/" class="nav-link">Stand-Alone</a></div><div class="nav-item"><a href="/bookings/commerce/" class="nav-link router-link-active">Commerce</a></div><div class="nav-item"><a href="https://github.com/ethercreative/bookings/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/ethercreative/bookings" target="_blank" rel="noopener noreferrer" class="repo-link">
    Source
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>CRON</span><!----></p><ul class="sidebar-group-items"><li><a href="/bookings/commerce/cron.html" class="sidebar-link">CRON</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Templating</span><!----></p><ul class="sidebar-group-items"><li><a href="/bookings/commerce/templating/how-to-book.html" class="sidebar-link">How to Book</a></li><li><a href="/bookings/commerce/templating/availability.html" class="sidebar-link">Availability</a></li><li><a href="/bookings/commerce/templating/sorting.html" class="sidebar-link">Sorting</a></li><li><a href="/bookings/commerce/templating/ticket-custom-fields.html" class="active sidebar-link">Ticket Custom Fields</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookings/commerce/templating/ticket-custom-fields.html#adding-content" class="sidebar-link">Adding Content</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bookings/commerce/templating/ticket-custom-fields.html#updating-multiple-tickets" class="sidebar-link">Updating multiple tickets</a></li></ul></li><li class="sidebar-sub-header"><a href="/bookings/commerce/templating/ticket-custom-fields.html#reading-content" class="sidebar-link">Reading Content</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>API</span><!----></p><ul class="sidebar-group-items"><li><a href="/bookings/commerce/api/availability.html" class="sidebar-link">Availability</a></li></ul></div></li></ul></div><div class="page"><!----><div class="content"><h1>Ticket Custom Fields</h1><div><p>When creating a <code>Bookable Ticket</code> field you have the option to build a custom field
layout. This field layout can be populated by customers when they book, useful
for any additional meta data you may require for your tickets (such as names,
dietary requirements, etc.).</p></div><p>Each ticket booked will have its own fields for the customer to fill out. For
example if a customer books two of the same ticket, they will have two sets of
fields to fill.</p><h2 id="adding-content"><a href="#adding-content" aria-hidden="true" class="header-anchor">#</a> Adding Content</h2><p>The code below shows how you can update a booked tickets contents (currently
this is only possible after a booking has been added to a cart, not during).</p><div><p>A <code>ticket</code> variable will be returned, which you can use to get any errors on the
ticket.</p></div><div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Twig</a></li></ul><div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item</span> <span class="token operator">in</span> <span class="token property">cart</span><span class="token punctuation">.</span><span class="token property">lineItems</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">ticket</span> <span class="token operator">in</span> <span class="token property">getBookedTickets</span><span class="token punctuation">(</span><span class="token property">item</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
        <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
            <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">csrfInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
            <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bookings/save-booked-ticket<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">ticket</span><span class="token punctuation">.</span><span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot; /&gt;
            
            &lt;input type=&quot;text&quot; name=&quot;fields[myField]&quot; value=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">ticket</span><span class="token punctuation">.</span><span class="token property">myField</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot; /&gt;
            
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
<span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
</code></pre></div></div></div><h3 id="updating-multiple-tickets"><a href="#updating-multiple-tickets" aria-hidden="true" class="header-anchor">#</a> Updating multiple tickets</h3><div><p>A <code>tickets</code> array, keyed by the ID of the ticket, will be returned.</p></div><div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Twig</a></li></ul><div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
    <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">csrfInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bookings/save-booked-ticket<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">item</span> <span class="token operator">in</span> <span class="token property">cart</span><span class="token punctuation">.</span><span class="token property">lineItems</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
        <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">for</span></span> <span class="token property">ticket</span> <span class="token operator">in</span> <span class="token property">getBookedTickets</span><span class="token punctuation">(</span><span class="token property">item</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
            <span class="token other">&lt;input type=&quot;text&quot; name=&quot;tickets[</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">ticket</span><span class="token punctuation">.</span><span class="token property">id</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">][myField]&quot; value=&quot;</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">ticket</span><span class="token punctuation">.</span><span class="token property">myField</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">&quot; /&gt;</span>
        <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>
    <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endfor</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span>  
    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></span>
</code></pre></div></div></div><h2 id="reading-content"><a href="#reading-content" aria-hidden="true" class="header-anchor">#</a> Reading Content</h2><div><p>You can access an array of all booked tickets for a given line item using the
<code>getBookedTickets</code> helper function in Twig, or by querying the <code>BookedTicket</code>
element directly in PHP.</p></div><div class="code-toggle"><ul class="code-language-switcher"><li><a class="active">Twig</a></li><li><a>PHP</a></li></ul><div><div class="language-twig extra-class"><pre class="language-twig"><code><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">set</span></span> <span class="token property">bookedTickets</span> <span class="token operator">=</span> <span class="token property">getBookedTickets</span><span class="token punctuation">(</span><span class="token property">cart</span><span class="token punctuation">.</span><span class="token property">lineItems</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token rd"><span class="token punctuation">%}</span></span></span>

<span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">bookedTickets</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property">myField</span> <span class="token rd"><span class="token punctuation">}}</span></span></span>
</code></pre></div></div><div><!----></div></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/ethercreative/bookings/edit/master/docs/commerce/templating/ticket-custom-fields.md" target="_blank" rel="noopener noreferrer">Suggest an improvement</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/bookings/commerce/templating/sorting.html" class="prev">
          Sorting
        </a></span><span class="next"><a href="/bookings/commerce/api/availability.html">
          Availability
        </a>
        →
      </span></p></div></div><!----></div></div>
    <script src="/bookings/assets/js/1.d2c7085b.js" defer></script><script src="/bookings/assets/js/app.5f389b5d.js" defer></script>
  </body>
</html>
