{"version":3,"sources":["webpack:///./src/models/ExRule.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/helpers/uuid.js","webpack:///./src/models/RecursionRule.js","webpack:///./src/const/Frequency.js","webpack:///external \"Vue\""],"names":["ExRule","__WEBPACK_IMPORTED_MODULE_4__RecursionRule__","external__Vue__default","a","use","vuex_esm","store_state","baseRule","RecursionRule","exceptions","exceptionsSort","getters","getExceptionById","state","id","mutations","updateRule","nextRule","constructor","addException","newExRule","push","updateExceptionsSort","duplicateExceptionById","ex","next","deleteExceptionById","nextExceptions","objectSpread_default","nextSort","toConsumableArray_default","splice","indexOf","store","Store","debug","BookingsUI","section","arguments","length","undefined","options","onImport","App","render","h","default","data","$mount","__webpack_require__","e","then","bind","Error","concat","config","productionTip","window","__BookingsUI","uuidv4","replace","c","r","Math","random","v","toString","RecursionRule_RecursionRule","_this","this","def","overwriteId","classCallCheck_default","Object","defineProperty","configurable","enumerable","writable","value","Frequency","Daily","Date","keys","map","key","hasOwnProperty","_this2","reduce","obj","convertToDataObject","duration","count","until","module","exports","Vue"],"mappings":"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","file":"js/app.816fd5d7.js","sourcesContent":["import RecursionRule from \"./RecursionRule\";\n\nexport default class ExRule extends RecursionRule {\n\n\t// Properties\n\t// =========================================================================\n\n\t// Properties: Instance\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * @type {boolean}\n\t */\n\tbookable = false;\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/ExRule.js","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport RecursionRule from \"../models/RecursionRule\";\nimport ExRule from \"../models/ExRule\";\n\nVue.use(Vuex);\n\nconst state = {\n\tbaseRule: new RecursionRule(),\n\texceptions: {},\n\texceptionsSort: [],\n};\n\nconst getters = {\n\tgetExceptionById: (state) => (id) => {\n\t\treturn state.exceptions[id];\n\t},\n};\n\nconst mutations = {\n\n\t/**\n\t * Updates the given rule\n\t *\n\t * @param state\n\t * @param {RecursionRule|ExRule} nextRule\n\t */\n\tupdateRule (state, nextRule) {\n\t\tif (nextRule.constructor === RecursionRule) {\n\t\t\tstate.baseRule = nextRule;\n\t\t\treturn;\n\t\t}\n\n\t\tstate.exceptions[nextRule.id] = nextRule;\n\t},\n\n\t/**\n\t * Creates a new exception and adds it to the bottom of the list\n\t *\n\t * @param state\n\t */\n\taddException (state) {\n\t\tconst newExRule = new ExRule();\n\t\tstate.exceptions[newExRule.id] = newExRule;\n\t\tstate.exceptionsSort.push(newExRule.id);\n\t},\n\n\t/**\n\t * Updates the order of the exceptions\n\t *\n\t * @param state\n\t * @param exceptionsSort\n\t */\n\tupdateExceptionsSort (state, exceptionsSort) {\n\t\tstate.exceptionsSort = exceptionsSort;\n\t},\n\n\t/**\n\t * Duplicates the exception (by the given ID) appends it to the list\n\t *\n\t * @param state\n\t * @param id\n\t */\n\tduplicateExceptionById (state, id) {\n\t\tconst ex = state.exceptions[id];\n\t\tconst next = new ExRule(ex, true);\n\n\t\tstate.exceptions[next.id] = next;\n\t\tstate.exceptionsSort.push(next.id);\n\t},\n\n\t/**\n\t * Deletes the exception for the given ID\n\t *\n\t * @param state\n\t * @param id\n\t */\n\tdeleteExceptionById (state, id) {\n\t\tconst nextExceptions = { ...state.exceptions }\n\t\t\t, nextSort = [ ...state.exceptionsSort ];\n\n\t\tdelete nextExceptions[id];\n\t\tnextSort.splice(nextSort.indexOf(id), 1);\n\n\t\tstate.exceptions = nextExceptions;\n\t\tstate.exceptionsSort = nextSort;\n\t},\n};\n\nexport default new Vuex.Store({\n\tstate,\n\tgetters,\n\tmutations,\n\tdebug: process.env.NODE_ENV !== \"production\",\n});\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from \"vue\";\nimport store from \"./store\";\n\nVue.config.productionTip = false;\n\n/**\n * ```js\n * new window.__BookingsUI(\"field\", \"#namespacedId\", {});\n * ```\n *\n * @param {string} section\n * @param {string=} id\n * @param {Object=} options\n * @constructor\n */\nfunction BookingsUI (section, id = \"#app\", options = null) {\n\n\tconst onImport = App => {\n\t\tnew Vue({\n\t\t\trender: h => h(App.default),\n\t\t\tdata: { options },\n\t\t\tstore,\n\t\t}).$mount(id);\n\t};\n\n\tswitch (section) {\n\t\tcase \"dev\":\n\t\tcase \"field\":\n\t\t\timport(\"./Field/index.vue\").then(onImport);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Bookings UI section: ${section}`);\n\t}\n\n}\n\nif (process.env.NODE_ENV === \"development\")\n\tnew BookingsUI(\"dev\");\n\nwindow.__BookingsUI = BookingsUI;\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default function uuidv4() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\tconst r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n\t\treturn v.toString(16);\n\t});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/uuid.js","import Frequency from \"../const/Frequency\";\nimport uuid from \"../helpers/uuid\";\n\nexport default class RecursionRule {\n\n\t// Properties\n\t// =========================================================================\n\n\t// Properties: Instance\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * @type {String|null}\n\t */\n\tid = null;\n\n\t/**\n\t * @type {String}\n\t */\n\tfrequency = Frequency.Daily;\n\n\t/**\n\t * @type {Date}\n\t */\n\tstart = new Date();\n\n\t/**\n\t * @type {Number}\n\t */\n\tinterval = 1;\n\n\t/**\n\t * @type {String}\n\t */\n\tduration = \"until\";\n\n\t/**\n\t * @type {Number|null}\n\t */\n\tcount = 1;\n\n\t/**\n\t * @type {Date|null}\n\t */\n\tuntil = new Date();\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyMonth = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyWeekNumber = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyYearDay = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyMonthDay = [];\n\n\t/**\n\t * @type {String[]|null}\n\t */\n\tbyDay = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyHour = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbyMinute = [];\n\n\t/**\n\t * @type {Number[]|null}\n\t */\n\tbySetPosition = [];\n\n\t// Constructor\n\t// =========================================================================\n\n\tconstructor (def = {}, overwriteId = false) {\n\t\tthis.id = uuid();\n\n\t\tObject.keys(def).map(key => {\n\t\t\tif (!this.hasOwnProperty(key))\n\t\t\t\treturn;\n\n\t\t\tif (key === \"id\" && overwriteId)\n\t\t\t\treturn;\n\n\t\t\tlet value = def[key];\n\n\t\t\tif (key in [\"start\", \"until\"])\n\t\t\t\tvalue = new Date(+value);\n\n\t\t\tthis[key] = value;\n\t\t});\n\t}\n\n\t// Helpers\n\t// =========================================================================\n\n\t/**\n\t * Returns the class as a plain JS object ready of Vue's data()\n\t *\n\t * @return {{}}\n\t */\n\tconvertToDataObject () {\n\t\treturn Object.keys(this).reduce((obj, key) => {\n\t\t\tif (key !== \"id\")\n\t\t\t\tobj[key] = this[key];\n\n\t\t\treturn obj;\n\t\t}, {});\n\t}\n\n\t/**\n\t * Converts the class to a plain JS object ready for sending to the server\n\t *\n\t * @return {{}}\n\t */\n\tconvertToRRuleObject () {\n\t\tconst data = this.convertToDataObject();\n\n\t\tswitch (data.duration) {\n\t\t\tcase \"until\":\n\t\t\t\tdelete data.count;\n\t\t\t\tbreak;\n\t\t\tcase \"count\":\n\t\t\t\tdelete data.until;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tdelete data.count;\n\t\t\t\tdelete data.until;\n\t\t}\n\n\t\treturn data;\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/RecursionRule.js","export default class Frequency {\n\n\t// Properties\n\t// =========================================================================\n\n\t// Properties: Static\n\t// -------------------------------------------------------------------------\n\n\tstatic Yearly = \"YEARLY\";\n\tstatic Monthly = \"MONTHLY\";\n\tstatic Weekly = \"WEEKLY\";\n\tstatic Daily = \"DAILY\";\n\tstatic Hourly = \"HOURLY\";\n\tstatic Minutely = \"MINUTELY\";\n\n\t// Functions\n\t// =========================================================================\n\n\t/**\n\t * @return {{key: string, value: *}[]}\n\t */\n\tstatic asKeyValueArray () {\n\t\treturn Object.keys(this).map(key => ({ key, value: this[key] }));\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/const/Frequency.js","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = lRwf\n// module chunks = 1"],"sourceRoot":""}